# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: wluong <wluong@student.42.fr>              +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2021/12/23 05:02:44 by wluong            #+#    #+#              #
#    Updated: 2021/12/24 04:52:55 by wluong           ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME =		phonebook

SRCS	=	book.cpp \
			contact.cpp \
			main.cpp

OBJS	= $(SRCS:%.cpp=$(BIN)/%.o)

DEP = $(OBJS:%.o=%.d)

BIN		= ./bin

CXX	= clang++

CXXFLAGS = -Wall -Werror -Wextra -std=c++98

RM = rm -f

all: $(NAME)

$(NAME):	$(OBJS)
	@clear
	@echo "\033[1;33m ██████\033[m╗\033[1;33m██████\033[m╗ \033[1;33m██████\033[m╗      \033[1;33m██████\033[m╗  \033[1;33m██████\033[m╗ "
	@echo "\033[1;33m██\033[m╔════╝\033[1;33m██\033[m╔══\033[1;33m██\033[m╗\033[1;33m██\033[m╔══\033[1;33m██\033[m╗    \033[1;33m██\033[m╔═\033[1;33m████\033[m╗\033[1;33m██\033[m╔═\033[1;33m████\033[m╗"
	@echo "\033[1;33m██\033[m║     \033[1;33m██████\033[m╔╝\033[1;33m██████\033[m╔╝    \033[1;33m██\033[m║\033[1;33m██╔\033[1;33m██\033[m║\033[1;33m██\033[m║\033[1;33m██\033[m╔\033[1;33m██\033[m║"
	@echo "\033[1;33m██\033[m║     \033[1;33m██\033[m╔═══╝ \033[1;33m██\033[m╔═══╝     \033[1;33m████\033[m╔╝\033[1;33m██\033[m║\033[1;33m████\033[m╔╝\033[1;33m██\033[m║"
	@echo "╚\033[1;33m██████\033[m╗\033[1;33m██\033[m║     \033[1;33m██\033[m║         ╚\033[1;33m██████\033[m╔╝╚\033[1;33m██████\033[m╔╝"
	@echo " ╚═════╝╚═╝     ╚═╝          ╚═════╝  ╚═════╝ "
	@echo "\033[3;95mMade by Wluong 🛠️\n\n\033[m"
	@echo "▄▄▄▄▄▄▄ ▄▄▄ ▄▄ ▄▄   ▄ ▄▄▄▄▄▄▄" 
	@echo "█ ▄▄▄ █ █▀█▄ ▀▄▄ ▄ ██ █ ▄▄▄ █"
	@echo "█ ███ █ ▀▀ ▀ ▀█▄█  ▀▄ █ ███ █"
	@echo "█▄▄▄▄▄█ █ ▄▀█ ▄ █▀█▀▄ █▄▄▄▄▄█"
	@echo "▄▄  ▄▄▄  ▀ ▄▀ ▀ ▄█▄▄▄  ▄ ▄▄▄▄"
	@echo "▄ ▄▄▄▄▄▄▄▀▀▄█▄██▀▀█  ▄▀██▀▀▀█"
	@echo "█▄  █ ▄ ▀ █▀▄  ▄ █ █ ▄▀  ▀ █▀"
	@echo "█ ▄▀▀█▄█ █   ███  █   ▀▀███▀█"
	@echo "▀█▄▄▀█▄▀▀ ▄▄▀▄█ ██ ▄▀█▀ ▀  █▀"
	@echo "▀  █▄ ▄▄▀▄ ▄█▄███     ███▀▄▀█ "
	@echo "▄▄▄▀▄▄▄█▄▄▄▀▄█  ██▄▀█▄██▄▄ ▀█"
	@echo "▄▄▄▄▄▄▄ ▀██  ▀▀█▀▀███ ▄ █▄▄ █"
	@echo "█ ▄▄▄ █ █▄ ▄▀▄█▀ █▀██▄▄▄█▄ ▀█"
	@echo "█ ███ █  ▄▄▄█▄▄█▀▄▄ █▄ ▀ ▄▄▄█"
	@echo "█▄▄▄▄▄█ ███▀▄█  ██▀ █ ▄▀▄▀ █▀\n\n"
	@echo "\n\033[1;33mCompilation de EX01 ⌛\033[0;m\n"
	@mkdir -p $(@D)
	@$(CXX) $(CXXFLAGS) $^ -o $@
	@bash ../.script.sh
	@echo
	@echo "\033[1;32mEX01 COMPILÉE ✓\n\033[0;m"
	@echo "\n\033[3;34mVous pouvez lancez \033[1;4m./phonebook\033[m \033[3;34m!\n\033[0;m"

-include $(DEP)
	
$(BIN)/%.o:		%.cpp
	@mkdir -p $(@D)
	@$(CXX) $(CXXFLAGS) -MMD -o $@ -c $<



clean:
	@$(RM) $(BIN)/$(OBJS)
	@echo "\033[5;1;32mCLEANED\033[m"
	@echo "\033[5;1;32m     _____\    _______		\033[m"
	@echo "\033[5;1;32m   /      \  |      /\		\033[m"
	@echo "\033[5;1;32m  /_______/  |_____/  \	\033[m"
	@echo "\033[5;1;32m |   \   /        /   /	\033[m"
	@echo "\033[5;1;32m  \   \         \/   /		\033[m"
	@echo "\033[5;1;32m   \  /          \__/_		\033[m"
	@echo "\033[5;1;32m    \/ ____    /\			\033[m"
	@echo "\033[5;1;32m      /  \    /  \			\033[m"
	@echo "\033[5;1;32m     /\   \  /   /			\033[m"
	@echo "\033[5;1;32m       \   \/   /			\033[m"
	@echo "\033[5;1;32m        \___\__/			\033[m"

fclean:	clean
	@$(RM) $(NAME)
	@rm -r $(BIN)

re:	fclean $(NAME)

.PHONY: all clean fclean re